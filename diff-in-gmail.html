<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Bookmarklet for Diff Highlighting in GMail</title>
</head>
<body>
    <h1>Bookmarklet for Diff Highlighting in GMail</h1>

    <p>Click and drag to make patches pop:</p>

    <p><a href="javascript:(function(){var c=&quot;1.3.2&quot;;if(window.jQuery===undefined||window.jQuery.fn.jquery<c){var a=false;var b=document.createElement(&quot;script&quot;);b.src=&quot;//ajax.googleapis.com/ajax/libs/jquery/&quot;+c+&quot;/jquery.min.js&quot;;b.onload=b.onreadystatechange=function(){if(!a&amp;&amp;(!this.readyState||this.readyState==&quot;loaded&quot;||this.readyState==&quot;complete&quot;)){a=true;d()}};document.getElementsByTagName(&quot;head&quot;)[0].appendChild(b)}else{d()}function d(){(window.gmailDiffBookmarklet=function(){do_highlight=function(m){var k=m.html();var j=m.html().split(&quot;<br>&quot;);var h=&quot;&quot;;for(var l=0;l<j.length;l++){var g=j[l].trim();if(g.match(&quot;^-&quot;)){h+='<span style=&quot;color: red; font-weight: bold;&quot;>'+g+&quot;</span>&quot;}else{if(g.match(&quot;^\\+&quot;)){h+='<span style=&quot;color: green; font-weight: bold;&quot;>'+g+&quot;</span>&quot;}else{if(g.match(&quot;^@@&quot;)){h+='<span style=&quot;color: orange; font-weight: bold;&quot;>'+g+&quot;</span>&quot;}else{if(g.match(&quot;^diff &quot;)||g.match(&quot;^index &quot;)){h+='<span style=&quot;color: gray; font-weight: bold;&quot;>'+g+&quot;</span>&quot;}else{h+=g}}}}h+=&quot;<br>\n&quot;}m.html(h);m.css(&quot;font-family&quot;,'&quot;Lucida Console&quot;, Monaco, monospace')};var f=jQuery.noConflict();var e=f(&quot;.a3s&quot;).filter(&quot;:visible&quot;);if(e.length<1){return}e.each(function(h,g){var k=f(g);var j=k.find(&quot;.gmail_default&quot;).filter(&quot;:visible&quot;);console.log(k);console.log(j.length);if(j.length>0){j.each(function(l,i){do_highlight(f(i))})}else{do_highlight(k)}})})()}})();">Diff In Gmail</a></p>

</body>
</html>
